# –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤ –∏ API (14.11.2024)

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. **–£–ø—Ä–æ—â–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫**
- ‚ùå **–£–¥–∞–ª–µ–Ω—ã** –ø–∞–ø–∫–∏:
  - `description/` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞
  - `personal_description/` - –ª–∏—á–Ω—ã–π –æ—Ç–∑—ã–≤
  
- ‚úÖ **–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å –≤** `data.json`:
  ```json
  {
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞",
    "rating": 8,
    "year": "2023",
    "country": "–°–®–ê",
    "director": "–†–µ–∂–∏—Å—Å–µ—Ä",
    "cast": "–ê–∫—Ç–µ—Ä—ã",
    "mainCategory": "–î—Ä–∞–º–∞",
    "subCategory": "–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è",
    "filmDescription": "–û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞",
    "personalReview": "–õ–∏—á–Ω—ã–π –æ—Ç–∑—ã–≤"
  }
  ```

#### 2. **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–µ–≤—å—é**
- ‚ùå **–ë—ã–ª–æ**: –í—Å–µ –ø—Ä–µ–≤—å—é –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ `preview/`
- ‚úÖ **–°—Ç–∞–ª–æ**: –ö–∞–∂–¥–æ–µ –ø—Ä–µ–≤—å—é –≤ —Å–≤–æ–µ–π –ø–æ–¥–ø–∞–ø–∫–µ:
  ```
  preview/
  ‚îú‚îÄ‚îÄ preview1/
  ‚îÇ   ‚îî‚îÄ‚îÄ preview.jpg
  ‚îú‚îÄ‚îÄ preview2/
  ‚îÇ   ‚îî‚îÄ‚îÄ preview.png
  ‚îî‚îÄ‚îÄ preview3/
      ‚îî‚îÄ‚îÄ preview.webp
  ```

#### 3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤**
- ‚ùå **–ë—ã–ª–æ**: –ü—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º
  - `1731582391234-123456789.jpg`
  - `1731582412345-987654321.jpg`
  - –∏ —Ç.–¥.

- ‚úÖ **–°—Ç–∞–ª–æ**: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞, —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è:
  - `banner/banner.jpg` (–≤—Å–µ–≥–¥–∞ –æ–¥–Ω–æ –∏–º—è)
  - `preview1/preview.png` (–≤—Å–µ–≥–¥–∞ –æ–¥–Ω–æ –∏–º—è)

#### 4. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ API endpoints**

##### –ë–∞–Ω–Ω–µ—Ä:
```javascript
POST /api/films/:id/upload/banner
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä, —É–¥–∞–ª—è—è —Å—Ç–∞—Ä—ã–π
```

##### –ü—Ä–µ–≤—å—é:
```javascript
POST /api/films/:id/upload/preview/1  // –ü–µ—Ä–≤–æ–µ –ø—Ä–µ–≤—å—é
POST /api/films/:id/upload/preview/2  // –í—Ç–æ—Ä–æ–µ –ø—Ä–µ–≤—å—é
POST /api/films/:id/upload/preview/3  // –¢—Ä–µ—Ç—å–µ –ø—Ä–µ–≤—å—é
// –ö–∞–∂–¥–æ–µ –≤ —Å–≤–æ—é –ø–æ–¥–ø–∞–ø–∫—É
```

#### 5. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ localStorage**
- ‚ùå **–ë—ã–ª–æ**: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ `localStorage` –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ **–°—Ç–∞–ª–æ**: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ —Ñ–∞–π–ª–µ `ALL_CATEGORIES/categories.json`

**API –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
```javascript
GET    /api/categories        // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ
POST   /api/categories        // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é
DELETE /api/categories/:name  // –£–¥–∞–ª–∏—Ç—å
```

### üì¶ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
films_and_serials/
‚îî‚îÄ‚îÄ 1/
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ data.json           ‚Üê –í–°–ï –î–ê–ù–ù–´–ï –ó–î–ï–°–¨
    ‚îú‚îÄ‚îÄ banner/
    ‚îÇ   ‚îî‚îÄ‚îÄ banner.jpg      ‚Üê –§–ò–ö–°–ò–†–û–í–ê–ù–ù–û–ï –ò–ú–Ø
    ‚îî‚îÄ‚îÄ preview/
        ‚îú‚îÄ‚îÄ preview1/
        ‚îÇ   ‚îî‚îÄ‚îÄ preview.jpg
        ‚îú‚îÄ‚îÄ preview2/
        ‚îÇ   ‚îî‚îÄ‚îÄ preview.png
        ‚îî‚îÄ‚îÄ preview3/
            ‚îî‚îÄ‚îÄ preview.webp
```

### üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∏–ª—å–º—ã —Å –ø–∞–ø–∫–∞–º–∏ `description/` –∏ `personal_description/`:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `migrate-old-data.bat`
2. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–∞–ø–∫–∏
3. –î–∞–Ω–Ω—ã–µ —É–∂–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ `data.json` (–æ–Ω–∏ —Ç–∞–º —Å –º–æ–º–µ–Ω—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è)

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π!

### üõ† –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `server.js` - –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –∏ API
- `edit-film.html` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- `.gitignore` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–ø–∫–∞ `ALL_CATEGORIES/`
- `README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `start-server.bat` - —É–ø—Ä–æ—â–µ–Ω (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫)

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ù–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –∫–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, –∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è
2. **–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥–æ–µ –ø—Ä–µ–≤—å—é –≤ —Å–≤–æ–µ–π –ø–∞–ø–∫–µ
3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º JSON —Ñ–∞–π–ª–µ
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (—á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä)
5. **–ß–∏—Å—Ç–æ—Ç–∞** - –º–µ–Ω—å—à–µ —Ñ–∞–π–ª–æ–≤, –ø—Ä–æ—â–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

- –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `start-server.bat`
- –ï—Å–ª–∏ –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ: `migrate-old-data.bat`
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∏–ª—å–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 14 –Ω–æ—è–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è:** 2.0

